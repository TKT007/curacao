<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
  <title>Rituals</title>
  <style>
    body {
      background-image: url(images/rt3.jpg);
    }
  </style>
</head>
<body>
  <div id="app">
    <header>
      <div class="container">
        <div class="row">
          <div class="col-6 col-md-12 _b4f2pq">
            <p class="header-logo">
              <!-- Logo SVG permanece inalterado -->
              <!-- ... (mantido como está) ... -->
            </p>
          </div>
        </div>
      </div>
    </header>

    <section>
      <div class="container">
        <transition name="fade" mode="out-in">
          <div class="row" v-if="!answerComplited">
            <div class="col-6 col-md-12">
              <div class="_p1h3n">
                <p class="_jhyzg" style="text-align: center;">Rituals heeft een speciale actie!</p>
              </div>
              <div class="_p1h3n">
                <p class="_ixyf7v">Het is heel eenvoudig. Help ons Rituals nog beter te maken – beantwoord een paar korte vragen en ontvang een van de cadeaus die we voor elke deelnemer hebben klaargezet.</p>
                <p class="_ixyf7v">Grijp nu je kans en WIN EEN GRATIS RITUALS-PAKKET! ter waarde van €100</p>
              </div>
            </div>
          </div>
        </transition>

        <div class="row">
          <div class="col-6 col-md-12">
            <div class="_p1h3n">
              <div class="_tb9g0r">
                <div class="_tb9g0r__quiz" v-for="(quest,i) in quizQuestions">
                  <transition-group name="fade" mode="out-in">
                    <template v-if="i === answerComplited">
                      <p class="_w8cyl7" v-bind:key="quest.question">{{quest.question}}</p>
                      <div class="_hq7ynw" v-bind:key="i">
                        <button class="_7vdyt" v-for="answer in quest.answerList" v-bind:key="answer.answer" @click="setAnswer(answer.group)">{{answer.answer}}</button>
                      </div>
                    </template>
                  </transition-group>
                </div>

                <transition name="fade" mode="out-in">
                  <div class="_tb9g0r__quiz" v-if="quizQuestions.length <= answerComplited">
                    <p class="_w8cyl7">Bedankt voor het beantwoorden van de vragen!</p>
                    <p class="_cskzx" v-html="final"></p>
                    <div class="_hq7ynw">
                      <a href="rituals/" class="_7vdyt">Klik hier om door te gaan en je cadeau te ontvangen</a>
                    </div>
                  </div>
                </transition>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        answerComplited: 0,
        answerList: [],
        final: '',
        quizQuestions: [
          {
            question: 'Hoe vaak gebruik je Rituals producten?',
            answerList: [
              { answer: 'elke dag', group: 1 },
              { answer: 'om de dag', group: 2 },
              { answer: 'één keer per week', group: 3 },
              { answer: 'één keer per maand', group: 3 },
              { answer: 'Ik gebruik ze niet', group: 3 },
            ]
          },
          {
            question: 'Welke gevoelens krijg je bij de geur van Rituals producten?',
            answerList: [
              { answer: 'positief', group: 2 },
              { answer: 'gematigd', group: 0 },
              { answer: 'neutraal', group: 3 },
              { answer: 'slecht', group: 1 },
              { answer: 'negatief', group: 1 },
            ]
          },
          {
            question: 'Welke verpakking van Rituals heeft jouw voorkeur?',
            answerList: [
              { answer: 'plastic fles', group: 0 },
              { answer: 'glazen pot', group: 3 },
              { answer: 'spraybus', group: 1 },
              { answer: 'maakt me niet uit', group: 2 },
              { answer: 'ik geef de voorkeur aan eco-verpakking', group: 2 },
            ]
          },
          {
            question: 'Welk formaat van Rituals producten vind je het meest praktisch?',
            answerList: [
              { answer: '50 ml', group: 2 },
              { answer: '100 ml', group: 0 },
              { answer: '200 ml', group: 1 },
              { answer: '500 ml', group: 3 },
              { answer: '1000 ml', group: 3 },
            ]
          },
          {
            question: 'Wat waardeer je het meest aan Rituals producten?',
            answerList: [
              { answer: 'prijs', group: 0 },
              { answer: 'kwaliteit', group: 1 },
              { answer: 'geur', group: 2 },
              { answer: 'ontwerp', group: 3 },
              { answer: 'natuurlijke ingrediënten', group: 3 },
            ]
          },
        ],
        quizFinal: [
          'We hebben een cadeau voor elke deelnemer. Vul je contactgegevens in op de volgende pagina om je prijs te claimen! Onze medewerker zal contact met je opnemen.'
        ]
      },
      methods: {
        setAnswer(group) {
          this.answerComplited++;
          this.answerList.push(group);
        },
        determiningTheLargest(arr) {
          let result = [];
          for (let i = 0; i < this.quizFinal.length; i++) {
            result.push(arr.filter(t => t == i).length || 0);
          }
          return result.findIndex(el => el === Math.max(...result));
        }
      },
      watch: {
        answerComplited: function () {
          if (this.quizQuestions.length <= this.answerComplited) {
            this.final = this.quizFinal[this.determiningTheLargest(this.answerList)];
          }
        }
      }
    });
  </script>
</body>
</html>
